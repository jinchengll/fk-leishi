import{d as t,m as a,a as s,b as i,o as e,c as l,w as n,e as r,t as o,n as u,i as h,f as c,g as m,h as d,j as p,r as V,k as f,l as b}from"./index-22e6343c.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const S=g({name:"u-count-to",data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:Number(this.duration),startTime:null,timestamp:null,remaining:null,rAF:null,lastTime:0}},mixins:[a,s,{props:{startVal:{type:[String,Number],default:()=>t.countTo.startVal},endVal:{type:[String,Number],default:()=>t.countTo.endVal},duration:{type:[String,Number],default:()=>t.countTo.duration},autoplay:{type:Boolean,default:()=>t.countTo.autoplay},decimals:{type:[String,Number],default:()=>t.countTo.decimals},useEasing:{type:Boolean,default:()=>t.countTo.useEasing},decimal:{type:[String,Number],default:()=>t.countTo.decimal},color:{type:String,default:()=>t.countTo.color},fontSize:{type:[String,Number],default:()=>t.countTo.fontSize},bold:{type:Boolean,default:()=>t.countTo.bold},separator:{type:String,default:()=>t.countTo.separator}}}],computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start()},emits:["end"],methods:{addUnit:i,easingFn:(t,a,s,i)=>s*(1-Math.pow(2,-10*t/i))*1024/1023+a,requestAnimationFrame(t){const a=(new Date).getTime(),s=Math.max(0,16-(a-this.lastTime)),i=setTimeout((()=>{t(a+s)}),s);return this.lastTime=a+s,i},cancelAnimationFrame(t){clearTimeout(t)},start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=this.requestAnimationFrame(this.count)},reStart(){this.paused?(this.resume(),this.paused=!1):(this.stop(),this.paused=!0)},stop(){this.cancelAnimationFrame(this.rAF)},resume(){this.remaining&&(this.startTime=0,this.localDuration=this.remaining,this.localStartVal=this.printVal,this.requestAnimationFrame(this.count))},reset(){this.startTime=null,this.cancelAnimationFrame(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(t){this.startTime||(this.startTime=t),this.timestamp=t;const a=t-this.startTime;this.remaining=this.localDuration-a,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(a,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(a,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(a/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(a/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal)||0,a<this.localDuration?this.rAF=this.requestAnimationFrame(this.count):this.$emit("end")},isNumber:t=>!isNaN(parseFloat(t)),formatNumber(t){t=(t=Number(t)).toFixed(Number(this.decimals));const a=(t+="").split(".");let s=a[0];const i=a.length>1?this.decimal+a[1]:"",e=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;e.test(s);)s=s.replace(e,"$1"+this.separator+"$2");return s+i},destroyed(){this.cancelAnimationFrame(this.rAF)}}},[["render",function(t,a,s,i,c,m){const d=h;return e(),l(d,{class:"u-count-num",style:u({fontSize:m.addUnit(t.fontSize),fontWeight:t.bold?"bold":"normal",color:t.color})},{default:n((()=>[r(o(c.displayValue),1)])),_:1},8,["style"])}],["__scopeId","data-v-932af3e8"]]),T=g(c({__name:"index",setup(t){const a=()=>{d({url:"/pages/index/index"})};return(t,s)=>{const i=p,o=V(f("up-count-to"),S),u=h,c=b;return e(),l(c,{class:"container"},{default:n((()=>[m(i,{class:"star",src:"/assets/star-plus-c41735e4.png"}),m(c,{class:"number"},{default:n((()=>[m(o,{startVal:0,endVal:100,duration:5e3,color:"#fff",fontSize:"24"}),m(u,null,{default:n((()=>[r("%...")])),_:1})])),_:1}),m(c,{class:"btn",onClick:a},{default:n((()=>[m(i,{class:"btn-img",src:"/assets/home-btn-5c3b83e3.png"})])),_:1})])),_:1})}}}),[["__scopeId","data-v-240b89bb"]]);export{T as default};
